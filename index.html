<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ProTraderHack (PTH)</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
      background: #0b0e11;
      color: white;
      overflow: hidden;
    }

    video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .skip-btn {
      position: absolute;
      bottom: 20px;
      right: 20px;
      font-size: 14px;
      padding: 6px 12px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s;
    }
    .skip-btn:hover {
      background: rgba(255,255,255,0.8);
      color: #000;
    }

    /* Hidden sections until unlocked */
    .screen {
      display: none;
      height: 100%;
      overflow: auto;
      padding: 20px;
    }

    .nav {
      position: fixed;
      bottom: 0;
      width: 100%;
      display: flex;
      justify-content: space-around;
      background: #111;
      padding: 10px 0;
      border-top: 1px solid #333;
    }

    .nav button {
      background: none;
      border: none;
      color: white;
      font-size: 14px;
      cursor: pointer;
    }

    .lock {
      font-size: 50px;
      text-align: center;
      margin-top: 40%;
      cursor: pointer;
    }

    .wallet-popup {
      display: none;
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translate(-50%, -20%);
      background: #1a1d21;
      padding: 20px;
      border-radius: 8px;
      width: 300px;
    }
    .wallet-popup h3 {
      margin-top: 0;
    }
    .wallet-popup .close {
      cursor: pointer;
      float: right;
      color: red;
    }
  </style>
</head>
<body>

  <!-- Intro Video -->
  <div id="intro-screen">
    <video id="introVideo" autoplay playsinline>
      <source src="VID-20250904-WA0075.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <button class="skip-btn" onclick="goNext()">Skip</button>
  </div>

  <!-- Signup/Login Screen -->
  <div id="auth-screen" class="screen">
    <h2>Welcome to ProTraderHack</h2>
    <p>Create an account or login to continue</p>
    <button onclick="signupWithEmail()">Sign up with Email</button>
    <button onclick="signupWithGoogle()">Sign up with Google</button>
    <button onclick="signupWithPhone()">Sign up with Phone</button>
    <p style="margin-top:20px;">
      <a href="#" onclick="loginPage()">Already have an account? Login</a>
    </p>
  </div>

  <!-- Home Screen -->
  <div id="home-screen" class="screen">
    <h2>Home</h2>
    <div id="home-lock" class="lock" onclick="unlockHome()">ðŸ”’</div>
    <div id="home-content" style="display:none;">
      <div style="text-align:right;">
        <span style="cursor:pointer;" onclick="toggleWallet()">ðŸ’° Wallet</span>
      </div>
      <div id="chart">
        <!-- TradingView chart embed -->
        <iframe src="https://s.tradingview.com/widgetembed/?frameElementId=tradingview-widget"
                style="width:100%; height:400px; border:none;">
        </iframe>
      </div>
      <div style="margin-top:10px; display:flex; justify-content:space-between;">
        <button>Buy</button>
        <button>Sell</button>
        <span>ðŸ“Š Signal: Hold</span>
      </div>
    </div>
  </div>

  <!-- Search Screen -->
  <div id="search-screen" class="screen">
    <h2>Search</h2>
    <div id="search-lock" class="lock" onclick="unlockSearch()">ðŸ”’</div>
    <div id="search-content" style="display:none;">
      <input type="text" placeholder="Search stocks/crypto/forex">
      <button>Add to Watchlist</button>
    </div>
  </div>

  <!-- Admin Screen -->
  <div id="admin-screen" class="screen">
    <h2>Admin Panel</h2>
    <div id="admin-lock" class="lock" onclick="unlockAdmin()">ðŸ”’</div>
    <div id="admin-content" style="display:none;">
      <h3>Manage Keys</h3>
      <button>Create Key</button>
      <button>Delete Key</button>
      <h3>Users</h3>
      <ul id="user-list">
        <li>user1 - key15 (12h left)</li>
      </ul>
    </div>
  </div>

  <!-- Account Screen -->
  <div id="account-screen" class="screen">
    <h2>Account</h2>
    <ul>
      <li>Zerodha - <button>Connect</button></li>
      <li>AngelOne - <button>Connect</button></li>
      <li>Binance - <button>Connect</button></li>
      <li>Exness - <button>Connect</button></li>
    </ul>
  </div>

  <!-- Wallet Popup -->
  <div id="wallet-popup" class="wallet-popup">
    <span class="close" onclick="toggleWallet()">âœ–</span>
    <h3>Wallet Balances</h3>
    <p>Zerodha: â‚¹-- <button>ðŸ“Œ</button></p>
    <p>AngelOne: â‚¹-- <button>ðŸ“Œ</button></p>
    <p>Binance: $-- <button>ðŸ“Œ</button></p>
    <p>Exness: $-- <button>ðŸ“Œ</button></p>
  </div>

  <!-- Bottom Navigation -->
  <div class="nav" id="bottom-nav" style="display:none;">
    <button onclick="showScreen('home')">Home</button>
    <button onclick="showScreen('search')">Search</button>
    <button onclick="showScreen('admin')">Admin</button>
    <button onclick="showScreen('account')">Account</button>
  </div>

  <script>
    const video = document.getElementById("introVideo");

    // Force autoplay with sound
    video.muted = false;
    video.play().catch(() => {
      video.muted = true;
      video.play();
    });

    // After video ends -> next
    video.onended = () => {
      goNext();
    };

    function goNext() {
      document.getElementById("intro-screen").style.display = "none";
      const loggedIn = localStorage.getItem("pth_user_logged_in");
      if (loggedIn) {
        openApp();
      } else {
        document.getElementById("auth-screen").style.display = "block";
      }
    }

    function openApp() {
      document.getElementById("auth-screen").style.display = "none";
      document.getElementById("home-screen").style.display = "block";
      document.getElementById("bottom-nav").style.display = "flex";
    }

    function showScreen(screen) {
      document.querySelectorAll(".screen").forEach(s => s.style.display = "none");
      document.getElementById(screen + "-screen").style.display = "block";
    }

    function unlockHome() {
      const key = prompt("Enter Key to unlock Home:");
      if (["pth7","key15","ishaan30","splkey50","ishaan"].includes(key)) {
        document.getElementById("home-lock").style.display = "none";
        document.getElementById("home-content").style.display = "block";
        document.getElementById("search-lock").style.display = "none";
        document.getElementById("search-content").style.display = "block";
      } else {
        alert("Invalid key!");
      }
    }

    function unlockSearch() {
      alert("Search unlocks automatically with Home!");
    }

    function unlockAdmin() {
      const key = prompt("Enter Admin Key:");
      if (["vamya","pthowner16"].includes(key)) {
        document.getElementById("admin-lock").style.display = "none";
        document.getElementById("admin-content").style.display = "block";
      } else {
        alert("Invalid admin key!");
      }
    }

    function toggleWallet() {
      const popup = document.getElementById("wallet-popup");
      popup.style.display = popup.style.display === "block" ? "none" : "block";
    }
  </script>

</body>
      </html>
