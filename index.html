<!-- Home Screen -->
<div id="home-screen" style="display:none;">
  <h2>📈 Trading Dashboard</h2>
  <button onclick="logout()">Logout</button>

  <h3>🔥 Live Trading Signals</h3>
  <div id="signals">Loading signals...</div>
</div>

<script>
  const API_BASE = "https://protraderhack.onrender.com"; // replace with your backend

  // Fetch signals from backend
  async function loadSignals() {
    try {
      const res = await fetch(`${API_BASE}/api/signals`, {
        headers: { "Authorization": "Bearer " + (auth.currentUser ? await auth.currentUser.getIdToken() : "") }
      });
      const data = await res.json();
      document.getElementById("signals").innerHTML = data.signals
        .map(s => `<p>📊 ${s.pair} → ${s.action} @ ${s.price}</p>`)
        .join("");
    } catch (err) {
      document.getElementById("signals").innerHTML = "❌ Failed to load signals";
      console.error(err);
    }
  }

  // When user logs in, load dashboard data
  auth.onAuthStateChanged(user => {
    if (user) {
      document.getElementById("auth-screen").style.display = "none";
      document.getElementById("home-screen").style.display = "block";
      loadSignals(); // 👈 load signals once logged in
    } else {
      document.getElementById("auth-screen").style.display = "block";
      document.getElementById("home-screen").style.display = "none";
    }
  });
        </script>
